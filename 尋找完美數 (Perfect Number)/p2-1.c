/*
vscode：p2_1

一個正整數如果剛好等於它所有「真因數」（也就是除了自己以外的因數）的總和，這個數就被稱為「完美數」。

請讓使用者輸入一個正整數 N，然後程式需要：
找出並印出 1 到 N 之間所有的完美數。
如果這個區間內沒有任何完美數，請印出一段提示訊息（"在這個範圍內沒有完美數"）。
*/

#include <stdio.h>
#include <stdlib.h>

int main(){
    int i, j, sum, n;
    int op = 0; // 用來記錄到底有沒有找到完美數

    printf("請輸入一個正整數 N: ");
    scanf("%d", &n);
    
    printf("1 到 %d 之間的完美數有：\n", n);

    // 從 1 檢查到 n
    for(i = 1; i <= n; i++){
        
        // 每次檢查一個新的數字 i 之前，要把因數總和歸零
        sum = 0; 

        // 找出 i 的所有真因數
        for(j = 1; j < i; j++){
            if(i % j == 0){
                // 如果 j 是 i 的因數，就把 j 加上去累積起來
                sum = sum + j; 
            }
        }

        // 內層迴圈跑完後，sum 已經是所有真因數的總和了。
        // 這時候檢查 sum 有沒有剛好等於原本的數字i
        if(sum == i){
            printf("%d ", i);
            op = 1; // 只要有找到任何一個，就把標記改成 1
        }
    }

    // 全部檢查完之後，如果 op 還是 0，代表一個都沒找到
    if(op == 0){
        printf("在這個範圍內沒有完美數\n");
    } 
    return 0;
}